{% extends "base.html" %}

{% load i18n %}

{% block content %}

{% for object in objects %}
<div class="row" style="margin-top:1%;">
  <div class="col-sm-12">
    <div class="thumbnail" style="border-radius:20px;background:#B0E0E6">
      <div class="caption" style="margin-top:-1%">
	<div class="row">
	  <div class="col-md-11">

	    {% if object.type == "event_application" or object.type == "event_invitation" %}
	    <div class="row">
	      <div class="col-md-2" style="margin-top:1%">
		<a href="/social/notification/accept/{{ object.request.id }}" class="btn btn-lg" role="button"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></a>
		<a href="/social/notification/reject/{{ object.request.id }}" class="btn btn-lg" role="button"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a>
		</div>
		<div class="col-md-10" style="margin-top:-1%">
		  <h3 style="font-family:utopia">{% trans object.label %}</h3>
		</div>
	    </div>
	    <hr>
	    {% with object.request.event_application.request_class as event %}
	    <div class="col-md-2">
	      <a href="/game/{{ event.game.id }}">
		<img src="{{ event.game.cover.thumbnail.url }}" class="img-responsive" alt="{{ event.game.name }}" style="margin-top:3%;border-radius:10px 0px 0px 10px;"/>
	      </a>
	    </div>
	    <div class="col-md-4" style="margin-top:-1%">
	      <h4><a href="/event/{{ event.id }}" class="btn btn-lg"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span></a>{{ event.name }}</h4>
	      <p><t style="color:#0087BD">{% trans "Start time" %}:</t> {{ event.start_time }}<p>
	      <p><t style="color:#0087BD">{% trans "Full" %}:</t> {{ event.participation_set.count }}/{{ event.participant_number }}</p>
	    </div>
	    <div class="col-md-6" style="margin-top:-1%">
	      {% if object.text != None %}
	      <h4>{% trans "Message" %}:</h4>
	      <p>{{ object.text }}</p>
	      {% endif %}
	    </div>
	    {% endwith %}
	    
	    {% elif "application" in object.type or "invitation" in object.type %}
	    <h4 style="color:#0087BD">{% trans object.label %}</h4>
	    {% if object.text != None %}
	    <p>{{ object.text }}</p>
	    {% endif %}
	    <a href="/social/notification/accept/{{ object.request.id }}" class="btn btn-primary btn-sm" role="button">Accept</a>
	    <a href="/social/notification/reject/{{ object.request.id }}" class="btn btn-primary btn-sm" role="button">Reject</a>
	    
	    {% elif object.type == "event" %}
	    <h4 style="color:#0087BD">{% trans object.label %}</h4>
	    {% if object.text != None %}
	    <p>{{ object.text }}</p>
	    {% endif %}
	    <a href="/event/{{ object.event_notification.notification_subject.id }}" class="btn btn-primary btn-sm" role="button">View event</a>
	    {% elif object.type == "friend" %}
	    <h4 style="color:#0087BD">{% trans object.label %}</h4>
	    {% if object.text != None %}
	    <p>{{ object.text }}</p>
	    {% endif %}
	    <a href="/social/user/{{ object.friend_notification.notification_subject.id }}" class="btn btn-primary btn-sm" role="button">View user</a>
	    {% elif object.type == "group" %}
	    <h4 style="color:#0087BD">{% trans object.label %}</h4>
	    {% if object.text != None %}
	    <p>{{ object.text }}</p>
	    {% endif %}
	    <a href="/social/group/{{ object.group_notification.notification_subject.id }}" class="btn btn-primary btn-sm" role="button">View group</a>

	    {% elif object.type == "cancellation" %}
	    <h4 style="color:#0087BD">{% trans object.label %}</h4>
	    {% if object.text != None %}
	    <p>{{ object.text }}</p>
	    {% endif %}
	    
	    {% endif %}
	  </div>
	  <div class="col-md-1">
	    <a href="/social/notification/delete/{{ object.id }}" class="btn btn-lg" style="margin-top:10%;margin-left:10%"><span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span></a>
	  </div>
	</div>
      </div>
    </div>
  </div>
</div>
{% endfor %}

<div class="pagination">
    <span class="step-links">
        {% if objects.has_previous %}
            <a href="?page={{ objects.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ objects.number }} of {{ objects.paginator.num_pages }}.
        </span>

        {% if objects.has_next %}
            <a href="?page={{ objects.next_page_number }}">next</a>
        {% endif %}
    </span>
</div>
{% endblock content %}
